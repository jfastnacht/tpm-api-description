openapi: '3.0.0'
info:
  title: TeamPasswordManager API
  description: >-
    Team Password Manager's RESTful API (Application Programming Interface)
    allows other applications to access some of the resources of the software,
    like projects or passwords.
  termsOfService: 'https://teampasswordmanager.com/docs/eula/'
  contact:
    name: Ferran Barba
    url: https://teampasswordmanager.com/support/
    email: info@teampasswordmanager.com
  license:
    name: proprietary
  version: '4'
servers:
  - url: '{server}{basePath}'
    description: The TeamPasswordManager instance
    variables:
      server:
        default: https://tpm.mydomain.com
      basePath:
        default: /index.php/api/v4
security:
  - basicAuth: []
  - publicKey: []
    requestHash: []
    requestTimestamp: []
paths:
  /version.json:
    parameters:
      - $ref: '#/components/parameters/ContentTypeParameter'
    get:
      summary: >-
        Returns the version of the software, when it was released and the API
        version used to make the request.
      operationId: getVersion
      tags:
        - version
      responses:
        '200':
          description: The version information.
          content:
            application/json; charset=utf-8:
              schema:
                '$ref': '#/components/schemas/VersionSchema'
  /version/check_latest.json:
    parameters:
      - $ref: '#/components/parameters/ContentTypeParameter'
    get:
      summary: >-
        Returns the version of the software, when it was released and the API
        version used to make the request.
      operationId: getLatestVersion
      tags:
        - version
      responses:
        '200':
          description: The version information.
          content:
            application/json; charset=utf-8:
              schema:
                '$ref': '#/components/schemas/LatestVersionSchema'
  /passwords.json:
    parameters:
      - $ref: '#/components/parameters/ContentTypeParameter'
    get:
      summary: >-
        These return the passwords that the user has access to.
      operationId: getPasswordList
      tags:
        - passwords
      responses:
        '200':
          description: The password list.
          content:
            application/json; charset=utf-8:
              schema:
                '$ref': '#/components/schemas/PasswordListSchema'
    post:
      summary: >-
        Create a new password resource.
      operationId: createPassword
      tags:
        - passwords
      requestBody:
        description: The contents of the new password.
        required: true
        content:
          application/json; charset=utf-8:
            schema:
              '$ref': '#/components/schemas/PasswordCreationSchema'
      responses:
        '201':
          description: The ID for the new password.
          content:
            application/json; charset=utf-8:
              schema:
                type: object
                properties:
                  id:
                    type: integer
  /passwords/count.json:
    parameters:
      - $ref: '#/components/parameters/ContentTypeParameter'
    get:
      summary: >-
        You can manage pagination for password resources using this endpoint, which returns the number of elements and
        pages a resource has.
      operationId: getPasswordCount
      tags:
        - passwords
      responses:
        '200':
          description: The password count.
          content:
            application/json; charset=utf-8:
              schema:
                '$ref': '#/components/schemas/CountSchema'
  /passwords/page/{page}.json:
    parameters:
      - $ref: '#/components/parameters/ContentTypeParameter'
      - $ref: '#/components/parameters/PageParameter'
    get:
      summary: >-
        These return the passwords per page that the user has access to.
      operationId: getPasswordListByPage
      tags:
        - passwords
      responses:
        '200':
          description: The password list for the specified page.
          content:
            application/json; charset=utf-8:
              schema:
                '$ref': '#/components/schemas/PasswordListSchema'
  /passwords/{password_id}.json:
    parameters:
      - $ref: '#/components/parameters/ContentTypeParameter'
      - $ref: '#/components/parameters/PasswordIdParameter'
    get:
      summary: >-
        This method returns all the data of a password, identified by its
        internal id.
      operationId: getPassword
      tags:
        - passwords
      parameters:
        - $ref: '#/components/parameters/UnlockReasonParameter'
      responses:
        '200':
          description: The password.
          content:
            application/json; charset=utf-8:
              schema:
                '$ref': '#/components/schemas/PasswordSchema'
    put:
      summary: >-
        Updates a password resource.
      operationId: updatePassword
      tags:
        - passwords
      parameters:
        - $ref: '#/components/parameters/UnlockReasonParameter'
      requestBody:
        description: The new contents of the password.
        required: true
        content:
          application/json; charset=utf-8:
            schema:
              '$ref': '#/components/schemas/PasswordUpdateSchema'
      responses:
        '204':
          description: Successful response for the updated password.
    delete:
      summary: >-
        Deletes a password.
      operationId: deletePassword
      tags:
        - passwords
      responses:
        '204':
          description: Successful response for the deleted password.
  /passwords/{password_id}/security.json:
    parameters:
      - $ref: '#/components/parameters/ContentTypeParameter'
      - $ref: '#/components/parameters/PasswordIdParameter'
      - $ref: '#/components/parameters/UnlockReasonParameter'
    get:
      summary: >-
        Returns the password security information.
      operationId: getPasswordSecurity
      tags:
        - passwords
      responses:
        '200':
          description: Response with password security information.
          content:
            application/json; charset=utf-8:
              schema:
                '$ref': '#/components/schemas/UserSecuritySchema'
    put:
      summary: >-
        Updates the password security information.
      operationId: updatePasswordSecurity
      tags:
        - passwords
      requestBody:
        description: The new password security of the password.
        required: true
        content:
          application/json; charset=utf-8:
            schema:
              '$ref': '#/components/schemas/PasswordSecurityUpdateSchema'
      responses:
        '204':
          description: Successful response for the updated password security information.
  /passwords/{password_id}/custom_fields.json:
    parameters:
      - $ref: '#/components/parameters/ContentTypeParameter'
      - $ref: '#/components/parameters/PasswordIdParameter'
      - $ref: '#/components/parameters/UnlockReasonParameter'
    put:
      summary: >-
        Updates the password security information.
      operationId: updateCustomFields
      tags:
        - passwords
      requestBody:
        description: The updated custom fields of the password.
        required: true
        content:
          application/json; charset=utf-8:
            schema:
              '$ref': '#/components/schemas/PasswordCustomFieldUpdateSchema'
      responses:
        '204':
          description: Successful response for the updated password custom fields.
  /passwords/{password_id}/lock.json:
    parameters:
      - $ref: '#/components/parameters/ContentTypeParameter'
      - $ref: '#/components/parameters/PasswordIdParameter'
    put:
      summary: >-
        Locks the password.
      operationId: lockPassword
      tags:
        - passwords
      responses:
        '204':
          description: Successful response for the locked password.
  /passwords/{password_id}/unlock.json:
    parameters:
      - $ref: '#/components/parameters/ContentTypeParameter'
      - $ref: '#/components/parameters/PasswordIdParameter'
      - $ref: '#/components/parameters/UnlockReasonParameter'
    put:
      summary: >-
        Unlocks the password.
      operationId: unlockPassword
      tags:
        - passwords
      responses:
        '204':
          description: Successful response for the locked password.
  /passwords/archived.json:
    parameters:
      - $ref: '#/components/parameters/ContentTypeParameter'
    get:
      summary: >-
        Get a list of archived passwords a user has access to.
      operationId: getArchivedPasswords
      tags:
        - passwords
      responses:
        '200':
          description: A list of archived passwords.
          content:
            application/json; charset=utf-8:
              schema:
                '$ref': '#/components/schemas/PasswordListSchema'
  /passwords/archived/count.json:
    parameters:
      - $ref: '#/components/parameters/ContentTypeParameter'
    get:
      summary: >-
        You can manage pagination for archived password resources using this endpoint, which returns the number of
        elements and pages a resource has.
      operationId: getArchivedPasswordCount
      tags:
        - passwords
      responses:
        '200':
          description: The archived password count.
          content:
            application/json; charset=utf-8:
              schema:
                '$ref': '#/components/schemas/CountSchema'
  /passwords/archived/page/{page}.json:
    parameters:
      - $ref: '#/components/parameters/ContentTypeParameter'
      - $ref: '#/components/parameters/PageParameter'
    get:
      summary: >-
        These return the archived passwords per page that the user has access to.
      operationId: getArchivedPasswordListByPage
      tags:
        - passwords
      responses:
        '200':
          description: The archived password list for the specified page.
          content:
            application/json; charset=utf-8:
              schema:
                '$ref': '#/components/schemas/PasswordListSchema'
  /passwords/favorite.json:
    parameters:
      - $ref: '#/components/parameters/ContentTypeParameter'
    get:
      summary: >-
        Get a list of favorite passwords a user has access to.
      operationId: getFavoritePasswords
      tags:
        - passwords
      responses:
        '200':
          description: A list of archived passwords.
          content:
            application/json; charset=utf-8:
              schema:
                '$ref': '#/components/schemas/PasswordListSchema'
  /passwords/favorite/count.json:
    parameters:
      - $ref: '#/components/parameters/ContentTypeParameter'
    get:
      summary: >-
        You can manage pagination for favorite password resources using this endpoint, which returns the number of
        elements and pages a resource has.
      operationId: getFavoritePasswordCount
      tags:
        - passwords
      responses:
        '200':
          description: The favorite password count.
          content:
            application/json; charset=utf-8:
              schema:
                '$ref': '#/components/schemas/CountSchema'
  /passwords/favorite/page/{page}.json:
    parameters:
      - $ref: '#/components/parameters/ContentTypeParameter'
      - $ref: '#/components/parameters/PageParameter'
    get:
      summary: >-
        These return the favorite passwords per page that the user has access to.
      operationId: getFavoritePasswordListByPage
      tags:
        - passwords
      responses:
        '200':
          description: The favorite password list for the specified page.
          content:
            application/json; charset=utf-8:
              schema:
                '$ref': '#/components/schemas/PasswordListSchema'
  /passwords/search/{searchTerm}.json:
    parameters:
      - $ref: '#/components/parameters/ContentTypeParameter'
      - $ref: '#/components/parameters/SearchTermParameter'
    get:
      summary: >-
        Get a list of passwords by search term a user has access to.
      operationId: getPasswordsSearchResults
      tags:
        - passwords
      responses:
        '200':
          description: A list of passwords found by search term.
          content:
            application/json; charset=utf-8:
              schema:
                '$ref': '#/components/schemas/PasswordListSchema'
  /passwords/search/{searchTerm}/count.json:
    parameters:
      - $ref: '#/components/parameters/ContentTypeParameter'
      - $ref: '#/components/parameters/SearchTermParameter'
    get:
      summary: >-
        You can manage pagination for password search result resources using this endpoint, which returns the number of
        elements and pages a resource has.
      operationId: getPasswordSearchResultCount
      tags:
        - passwords
      responses:
        '200':
          description: The password search result count.
          content:
            application/json; charset=utf-8:
              schema:
                '$ref': '#/components/schemas/CountSchema'
  /passwords/search/{searchTerm}/page/{page}.json:
    parameters:
      - $ref: '#/components/parameters/ContentTypeParameter'
      - $ref: '#/components/parameters/SearchTermParameter'
      - $ref: '#/components/parameters/PageParameter'
    get:
      summary: >-
        These return the looked up passwords per page that the user has access to.
      operationId: getPasswordSearchResultByPage
      tags:
        - passwords
      responses:
        '200':
          description: The looked up password list for the specified page.
          content:
            application/json; charset=utf-8:
              schema:
                '$ref': '#/components/schemas/PasswordListSchema'
  /projects.json:
    parameters:
      - $ref: '#/components/parameters/ContentTypeParameter'
    get:
      summary: >-
        These return the projects that the user has access to. The returned data is the same as in the projects lists
        in the web interface.
      operationId: getProjectList
      tags:
        - projects
      responses:
        '200':
          description: The list of projects.
          content:
            application/json; charset=utf-8:
              schema:
                '$ref': '#/components/schemas/ProjectListSchema'
    post:
      summary: >-
        Create a new project resource.
      operationId: createProject
      tags:
        - projects
      requestBody:
        description: The contents of the new project.
        required: true
        content:
          application/json; charset=utf-8:
            schema:
              '$ref': '#/components/schemas/ProjectCreationSchema'
      responses:
        '201':
          description: The ID for the new project.
          content:
            application/json; charset=utf-8:
              schema:
                type: object
                properties:
                  id:
                    type: integer
  /projects/count.json:
    parameters:
      - $ref: '#/components/parameters/ContentTypeParameter'
    get:
      summary: >-
        You can manage pagination for project resources using this endpoint, which returns the number of elements and
        pages a resource has.
      operationId: getProjectCount
      tags:
        - projects
      responses:
        '200':
          description: The project count.
          content:
            application/json; charset=utf-8:
              schema:
                '$ref': '#/components/schemas/CountSchema'
  /projects/page/{page}.json:
    parameters:
      - $ref: '#/components/parameters/ContentTypeParameter'
      - $ref: '#/components/parameters/PageParameter'
    get:
      summary: >-
        These return the projects per page that the user has access to.
      operationId: getProjectListByPage
      tags:
        - projects
      responses:
        '200':
          description: The project list for the specified page.
          content:
            application/json; charset=utf-8:
              schema:
                '$ref': '#/components/schemas/ProjectListSchema'
  /projects/{project_id}.json:
    parameters:
      - $ref: '#/components/parameters/ContentTypeParameter'
      - $ref: '#/components/parameters/ProjectIdParameter'
    get:
      summary: >-
        This method returns all the data of a project, identified by its
        internal ID.
      operationId: getProject
      tags:
        - projects
      responses:
        '200':
          description: The project.
          content:
            application/json; charset=utf-8:
              schema:
                '$ref': '#/components/schemas/ProjectSchema'
    put:
      summary: >-
        Updates a project resource.
      operationId: updateProject
      tags:
        - projects
      requestBody:
        description: The new contents of the project.
        required: true
        content:
          application/json; charset=utf-8:
            schema:
              '$ref': '#/components/schemas/ProjectUpdateSchema'
      responses:
        '204':
          description: Successful response for the updated project.
    delete:
      summary: >-
        Deletes a project.
      operationId: deleteProject
      tags:
        - projects
      responses:
        '204':
          description: Successful response for the deleted project.
  /projects/{project_id}/passwords.json:
    parameters:
      - $ref: '#/components/parameters/ContentTypeParameter'
      - $ref: '#/components/parameters/ProjectIdParameter'
    get:
      summary: >-
        This method returns the passwords of a project, identified by its internal id. This call shows the same data as
        the "Passwords" tab of a project.
      operationId: getPasswordsOfProject
      tags:
        - projects
      responses:
        '200':
          description: Returns a list of passwords.
          content:
            application/json; charset=utf-8:
              schema:
                '$ref': '#/components/schemas/PasswordListSchema'
                # TODO: There is an inconsistency, since PasswordListItem has no id within the project object
  /projects/{project_id}/passwords/count.json:
    parameters:
      - $ref: '#/components/parameters/ContentTypeParameter'
      - $ref: '#/components/parameters/ProjectIdParameter'
    get:
      summary: >-
        You can manage pagination for project password resources using this endpoint, which returns the number of elements and
        pages a resource has.
      operationId: getPasswordsOfProjectCount
      tags:
        - projects
      responses:
        '200':
          description: The project password count.
          content:
            application/json; charset=utf-8:
              schema:
                '$ref': '#/components/schemas/CountSchema'
  /projects/{project_id}/passwords/page/{page}.json:
    parameters:
      - $ref: '#/components/parameters/ContentTypeParameter'
      - $ref: '#/components/parameters/ProjectIdParameter'
      - $ref: '#/components/parameters/PageParameter'
    get:
      summary: >-
        These return the project passwords per page that the user has access to.
      operationId: getPasswordsOfProjectByPage
      tags:
        - projects
      responses:
        '200':
          description: The project passwords for the specified page.
          content:
            application/json; charset=utf-8:
              schema:
                '$ref': '#/components/schemas/PasswordListSchema'
                # TODO: There is an inconsistency, since PasswordListItem has no id within the project object
  /projects/{project_id}/security.json:
    parameters:
      - $ref: '#/components/parameters/ContentTypeParameter'
      - $ref: '#/components/parameters/ProjectIdParameter'
    get:
      summary: >-
        Returns the project security information.
      operationId: getProjectSecurity
      tags:
        - projects
      responses:
        '200':
          description: Response with project security information.
          content:
            application/json; charset=utf-8:
              schema:
                '$ref': '#/components/schemas/UserSecuritySchema'
    put:
      summary: >-
        Sets the main manager of the project and grants permissions to users and groups. Does the same as the "Security"
        button of the project in the web interface.
      operationId: setProjectSecurity
      tags:
        - projects
      requestBody:
        description: New security settings.
        required: true
        content:
          application/json; charset=utf-8:
            schema:
              '$ref': '#/components/schemas/ProjectSecurityUpdateSchema'
      responses:
        '204':
          description: Successful change of the security settings.
  /projects/archived.json:
    parameters:
      - $ref: '#/components/parameters/ContentTypeParameter'
    get:
      summary: >-
        Get a list of archived projects a user has access to.
      operationId: getArchivedProjects
      tags:
        - projects
      responses:
        '200':
          description: A list of archived projects.
          content:
            application/json; charset=utf-8:
              schema:
                '$ref': '#/components/schemas/ProjectListSchema'
  /projects/archived/count.json:
    parameters:
      - $ref: '#/components/parameters/ContentTypeParameter'
    get:
      summary: >-
        You can manage pagination for archived projects resources using this endpoint, which returns the number of
        elements and pages a resource has.
      operationId: getArchivedProjectCount
      tags:
        - projects
      responses:
        '200':
          description: The archived project count.
          content:
            application/json; charset=utf-8:
              schema:
                '$ref': '#/components/schemas/CountSchema'
  /projects/archived/page/{page}.json:
    parameters:
      - $ref: '#/components/parameters/ContentTypeParameter'
      - $ref: '#/components/parameters/PageParameter'
    get:
      summary: >-
        These return the archived projects per page that the user has access to.
      operationId: getArchivedProjectListByPage
      tags:
        - projects
      responses:
        '200':
          description: The archived project list for the specified page.
          content:
            application/json; charset=utf-8:
              schema:
                '$ref': '#/components/schemas/ProjectListSchema'
  /projects/favorite.json:
    parameters:
      - $ref: '#/components/parameters/ContentTypeParameter'
    get:
      summary: >-
        Get a list of favorite projects a user has access to.
      operationId: getFavoriteProjects
      tags:
        - projects
      responses:
        '200':
          description: A list of favorite projects.
          content:
            application/json; charset=utf-8:
              schema:
                '$ref': '#/components/schemas/ProjectListSchema'
  /projects/favorite/count.json:
    parameters:
      - $ref: '#/components/parameters/ContentTypeParameter'
    get:
      summary: >-
        You can manage pagination for favorite project resources using this endpoint, which returns the number of
        elements and pages a resource has.
      operationId: getFavoriteProjectCount
      tags:
        - projects
      responses:
        '200':
          description: The favorite project count.
          content:
            application/json; charset=utf-8:
              schema:
                '$ref': '#/components/schemas/CountSchema'
  /projects/favorite/page/{page}.json:
    parameters:
      - $ref: '#/components/parameters/ContentTypeParameter'
      - $ref: '#/components/parameters/PageParameter'
    get:
      summary: >-
        These return the favorite projects per page that the user has access to.
      operationId: getFavoriteProjectListByPage
      tags:
        - projects
      responses:
        '200':
          description: The favorite project list for the specified page.
          content:
            application/json; charset=utf-8:
              schema:
                '$ref': '#/components/schemas/ProjectListSchema'
  /projects/search/{searchTerm}.json:
    parameters:
      - $ref: '#/components/parameters/ContentTypeParameter'
      - $ref: '#/components/parameters/SearchTermParameter'
    get:
      summary: >-
        Get a list of projects by search term a user has access to.
      operationId: getProjectsSearchResults
      tags:
        - projects
      responses:
        '200':
          description: A list of projects found by search term.
          content:
            application/json; charset=utf-8:
              schema:
                '$ref': '#/components/schemas/ProjectListSchema'
  /projects/search/{searchTerm}/count.json:
    parameters:
      - $ref: '#/components/parameters/ContentTypeParameter'
      - $ref: '#/components/parameters/SearchTermParameter'
    get:
      summary: >-
        You can manage pagination for project search result resources using this endpoint, which returns the number of
        elements and pages a resource has.
      operationId: getProjectSearchResultCount
      tags:
        - projects
      responses:
        '200':
          description: The project search result count.
          content:
            application/json; charset=utf-8:
              schema:
                '$ref': '#/components/schemas/CountSchema'
  /projects/search/{searchTerm}/page/{page}.json:
    parameters:
      - $ref: '#/components/parameters/ContentTypeParameter'
      - $ref: '#/components/parameters/SearchTermParameter'
      - $ref: '#/components/parameters/PageParameter'
    get:
      summary: >-
        These return the looked up projects per page that the user has access to.
      operationId: getProjectSearchResultByPage
      tags:
        - projects
      responses:
        '200':
          description: The looked up project list for the specified page.
          content:
            application/json; charset=utf-8:
              schema:
                '$ref': '#/components/schemas/ProjectListSchema'
  /projects/{project_id}/subprojects.json:
    parameters:
      - $ref: '#/components/parameters/ContentTypeParameter'
      - $ref: '#/components/parameters/ProjectIdParameter'
    get:
      summary: >-
        Get a list of subprojects a user has access to.
      operationId: getSubprojects
      tags:
        - projects
      responses:
        '200':
          description: A list of subprojects.
          content:
            application/json; charset=utf-8:
              schema:
                '$ref': '#/components/schemas/SubprojectListSchema'
  # TODO: Find out how to use this endpoint.
  #/projects/{project_id}/subprojects/new_pwd.json:
    #get:
  /projects/{project_id}/change_parent.json:
    parameters:
      - $ref: '#/components/parameters/ContentTypeParameter'
      - $ref: '#/components/parameters/ProjectIdParameter'
    put:
      summary: >-
        Change the parent of the specified project.
      operationId: setParentOfProject
      tags:
        - projects
      requestBody:
        description: The new parent of the project.
        required: true
        content:
          application/json; charset=utf-8:
            schema:
              type: object
              properties:
                parent_id:
                  type: integer
              required:
                - parent_id
      responses:
        '204':
          description: Response for a successful change of the parent.
  /projects/{project_id}/archive.json:
    parameters:
      - $ref: '#/components/parameters/ContentTypeParameter'
      - $ref: '#/components/parameters/ProjectIdParameter'
    put:
      summary: >-
        Archive the specified project.
      operationId: archiveProject
      tags:
        - projects
      responses:
        '204':
          description: Response for the successful archiving of the project.
  /projects/{project_id}/unarchive.json:
    parameters:
      - $ref: '#/components/parameters/ContentTypeParameter'
      - $ref: '#/components/parameters/ProjectIdParameter'
    put:
      summary: >-
        Unarchive the specified project.
      operationId: unarchiveProject
      tags:
        - projects
      responses:
        '204':
          description: Response for the successful unarchiving of the project.
  /my_passwords.json:
    parameters:
      - $ref: '#/components/parameters/ContentTypeParameter'
    get:
      summary: >-
        List personal passwords.
      operationId: getMyPasswordList
      tags:
        - my_passwords
      responses:
        '200':
          description: Returns a list of personal passwords.
          content:
            application/json; charset=utf-8:
              schema:
                '$ref': '#/components/schemas/MyPasswordListSchema'
    post:
      summary: >-
        Add new personal password.
      operationId: createMyPassword
      tags:
        - my_passwords
      requestBody:
        description: Returns the ID of the newly created password.
        content:
          application/json; charset=utf-8:
            schema:
              allOf:
                - $ref: '#/components/schemas/MyPasswordCreationSchema'
                - required:
                    - name
      responses:
        '201':
          description: Returns the ID of the newly created password.
          content:
            application/json; charset=utf-8:
              schema:
                type: object
                properties:
                  id:
                    type: integer
                    format: int64
  /my_passwords/count.json:
    parameters:
      - $ref: '#/components/parameters/ContentTypeParameter'
    get:
      summary: >-
        You can manage pagination for my password resources using this endpoint, which returns the number of
        elements and pages a resource has.
      operationId: getMyPasswordCount
      tags:
        - my_passwords
      responses:
        '200':
          description: The search result count for personal passwords.
          content:
            application/json; charset=utf-8:
              schema:
                '$ref': '#/components/schemas/CountSchema'
  /my_passwords/page/{page}.json:
    parameters:
      - $ref: '#/components/parameters/ContentTypeParameter'
      - $ref: '#/components/parameters/PageParameter'
    get:
      summary: >-
        These return the personal passwords per page that the user has access to.
      operationId: getMyPasswordListByPage
      tags:
        - my_passwords
      responses:
        '200':
          description: The personal password list for the specified page.
          content:
            application/json; charset=utf-8:
              schema:
                '$ref': '#/components/schemas/MyPasswordListSchema'
  /my_passwords/search/{searchTerm}.json:
    parameters:
      - $ref: '#/components/parameters/ContentTypeParameter'
      - $ref: '#/components/parameters/SearchTermParameter'
    get:
      summary: >-
        Get a list of personal passwords by search term.
      operationId: getMyPasswordSearchResults
      tags:
        - my_passwords
      responses:
        '200':
          description: A list of personal passwords found by search term.
          content:
            application/json; charset=utf-8:
              schema:
                '$ref': '#/components/schemas/MyPasswordListSchema'
  /my_passwords/search/{searchTerm}/count.json:
    parameters:
      - $ref: '#/components/parameters/ContentTypeParameter'
      - $ref: '#/components/parameters/SearchTermParameter'
    get:
      summary: >-
        You can manage pagination for my password resources using this endpoint, which returns the number of
        elements and pages a resource has.
      operationId: getMyPasswordSearchResultCount
      tags:
        - my_passwords
      responses:
        '200':
          description: The search result count for personal passwords.
          content:
            application/json; charset=utf-8:
              schema:
                '$ref': '#/components/schemas/CountSchema'
  /my_passwords/search/{searchTerm}/page/{page}.json:
    parameters:
      - $ref: '#/components/parameters/ContentTypeParameter'
      - $ref: '#/components/parameters/SearchTermParameter'
      - $ref: '#/components/parameters/PageParameter'
    get:
      summary: >-
        These return the looked up personal passwords per page.
      operationId: geMyPasswordSearchResultByPage
      tags:
        - my_passwords
      responses:
        '200':
          description: The looked up personal password list for the specified page.
          content:
            application/json; charset=utf-8:
              schema:
                '$ref': '#/components/schemas/MyPasswordListSchema'
  /my_passwords/{password_id}.json:
    parameters:
      - $ref: '#/components/parameters/ContentTypeParameter'
      - $ref: '#/components/parameters/PasswordIdParameter'
    get:
      summary: >-
        Get personal password by ID.
      operationId: getMyPassword
      tags:
        - my_passwords
      responses:
        '200':
          description: Returns a personal password.
          content:
            application/json; charset=utf-8:
              schema:
                '$ref': '#/components/schemas/MyPasswordSchema'
    put:
      summary: >-
        Change existing personal password by ID.
      operationId: setMyPassword
      tags:
        - my_passwords
      requestBody:
        description: New data for personal password.
        content:
          application/json; charset=utf-8:
            schema:
              '$ref': '#/components/schemas/MyPasswordCreationSchema'
      responses:
        '204':
          description: Successful response for the updated personal password.
    delete:
      summary: >-
        Delete existing personal password by ID.
      operationId: deleteMyPassword
      tags:
        - my_passwords
      responses:
        '204':
          description: Successful response for the deleted personal password.
  /favorite_passwords.json:
    $ref: '#/paths/~1passwords~1favorite.json'
  /favorite_passwords/count.json:
    $ref: '#/paths/~1passwords~1favorite~1count.json'
  /favorite_passwords/page/{page}.json:
    $ref: '#/paths/~1passwords~1favorite~1page~1%7Bpage%7D.json'
  /favorite_projects.json:
    $ref: '#/paths/~1projects~1favorite.json'
  /favorite_projects/count.json:
    $ref: '#/paths/~1projects~1favorite~1count.json'
  /favorite_projects/page/{page}.json:
    $ref: '#/paths/~1projects~1favorite~1page~1%7Bpage%7D.json'
  /favorite_passwords/{password_id}.json:
    parameters:
      - $ref: '#/components/parameters/ContentTypeParameter'
      - $ref: '#/components/parameters/PasswordIdParameter'
    post:
      summary: >-
        Set a password as favorite for the user making the request.
      operationId: addPasswordToFavorites
      tags:
        - passwords
      responses:
        '204':
          description: Successful response for adding password to favorites.
    delete:
      summary: >-
        Set a password as not favorite for the user making the request.
      operationId: removePasswordFromFavorites
      tags:
        - passwords
      responses:
        '204':
          description: Successful response for removing password from favorites.
  /favorite_projects/{project_id}.json:
    parameters:
      - $ref: '#/components/parameters/ContentTypeParameter'
      - $ref: '#/components/parameters/ProjectIdParameter'
    post:
      summary: >-
        Set a password as favorite for the user making the request.
      operationId: addProjectToFavorites
      tags:
        - projects
      responses:
        '204':
          description: Successful response for adding project to favorites.
    delete:
      summary: >-
        Set a project as not favorite for the user making the request.
      operationId: removeProjectFromFavorites
      tags:
        - projects
      responses:
        '204':
          description: Successful response for removing project from favorites.
components:
  parameters:
    ContentTypeParameter:
      in: header
      name: Content-Type
      required: true
      schema:
        type: string
        enum:
          - application/json; charset=utf-8
    UnlockReasonParameter:
      in: header
      name: X-Unlock-Reason
      schema:
        type: string
    PasswordIdParameter:
      name: password_id
      in: path
      description: Password ID
      required: true
      schema:
        type: integer
        format: int64
    ProjectIdParameter:
      name: project_id
      in: path
      description: Project ID
      required: true
      schema:
        type: integer
        format: int64
    PageParameter:
      name: page
      in: path
      description: Page number
      required: true
      schema:
        type: integer
        format: int64
    SearchTermParameter:
      name: searchTerm
      in: path
      description: The search term
      required: true
      schema:
        type: string
  schemas:
    VersionSchema:
      properties:
        version:
          type: string
        version_date:
          type: string
        api_version:
          type: string
    LatestVersionSchema:
      allOf:
        - $ref: '#/components/schemas/VersionSchema'
        - properties:
            latest_version:
              type: string
    CountSchema:
      type: object
      properties:
        num_items:
          type: integer
        num_pages:
          type: integer
        num_items_per_page:
          type: integer
    PasswordUpdateSchema:
      type: object
      properties:
        name:
          type: string
        project_id:
          type: integer
        tags:
          type: string
        access_info:
          type: string
        username:
          type: string
        email:
          type: string
          format: email
        password:
          type: string
          format: password
        expiry_date:
          type: string
          pattern: '[0-9]{4}\-[0-9]{2}\-[0-9]{2}'
          nullable: true
        notes:
          type: string
        custom_data1:
          $ref: '#/components/schemas/CustomFieldSchema'
        custom_data2:
          $ref: '#/components/schemas/CustomFieldSchema'
        custom_data3:
          $ref: '#/components/schemas/CustomFieldSchema'
        custom_data4:
          $ref: '#/components/schemas/CustomFieldSchema'
        custom_data5:
          $ref: '#/components/schemas/CustomFieldSchema'
        custom_data6:
          $ref: '#/components/schemas/CustomFieldSchema'
        custom_data7:
          $ref: '#/components/schemas/CustomFieldSchema'
        custom_data8:
          $ref: '#/components/schemas/CustomFieldSchema'
        custom_data9:
          $ref: '#/components/schemas/CustomFieldSchema'
        custom_data10:
          $ref: '#/components/schemas/CustomFieldSchema'
    PasswordCreationSchema:
      allOf:
        - $ref: '#/components/schemas/PasswordUpdateSchema'
        - type: object
          required:
            - name
            - project_id
    PasswordListSchema:
      type: array
      items:
        '$ref': '#/components/schemas/PasswordListItemSchema'
    PasswordListItemSchema:
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
        project:
          type: object
          properties:
            id:
              type: integer
            name:
              type: string
        notes_snippet:
          type: string
        tags:
          type: string
        access_info:
          type: string
        username:
          type: string
        email:
          type: string
          format: email
        expiry_date:
          type: string
        expiry_status:
          type: integer
        archived:
          type: boolean
        favorite:
          type: boolean
        num_files:
          type: integer
        locked:
          type: boolean
        external_sharing:
          type: boolean
        updated_on:
          type: string
    PasswordSchema:
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
        project:
          type: object
          properties:
            id:
              type: integer
            name:
              type: string
        tags:
          type: string
        access_info:
          type: string
        username:
          type: string
        email:
          type: string
          format: email
        password:
          type: string
          format: password
        expiry_date:
          type: string
        expiry_status:
          type: integer
        notes:
          type: string
        custom_field1:
          $ref: '#/components/schemas/CustomFieldSchema'
        custom_field2:
          $ref: '#/components/schemas/CustomFieldSchema'
        custom_field3:
          $ref: '#/components/schemas/CustomFieldSchema'
        custom_field4:
          $ref: '#/components/schemas/CustomFieldSchema'
        custom_field5:
          $ref: '#/components/schemas/CustomFieldSchema'
        custom_field6:
          $ref: '#/components/schemas/CustomFieldSchema'
        custom_field7:
          $ref: '#/components/schemas/CustomFieldSchema'
        custom_field8:
          $ref: '#/components/schemas/CustomFieldSchema'
        custom_field9:
          $ref: '#/components/schemas/CustomFieldSchema'
        custom_field10:
          $ref: '#/components/schemas/CustomFieldSchema'
        users_permissions:
          type: array
          items:
            $ref: '#/components/schemas/UserPermissionSchema'
        groups_permissions:
          type: array
          items:
            $ref: '#/components/schemas/GroupPermissionSchema'
        parents:
          type: array
          items:
            type: integer
        user_permission:
          type: object
          properties:
            id:
              type: integer
            label:
              type: string
        archived:
          type: boolean
        favorite:
          type: boolean
        num_files:
          type: string
        locked:
          type: boolean
        external_sharing:
          type: boolean
        external_url:
          type: string
        managed_by:
          type: object
          properties:
            id:
              type: integer
            username:
              type: string
            email_address:
              type: string
              format: email
            name:
              type: string
            role:
              type: string
        created_on:
          type: string
        created_by:
          $ref: '#/components/schemas/CreatedUpdatedSchema'
        updated_on:
          type: string
        updated_by:
          $ref: '#/components/schemas/CreatedUpdatedSchema'
    UserSecuritySchema:
      type: array
      items:
        allOf:
          - $ref: '#/components/schemas/UserPermissionSchema'
          - properties:
              granted_via:
                type: string
    PasswordSecurityUpdateSchema:
      type: object
      properties:
        managed_by:
          type: integer
        users_permissions:
          $ref: '#/components/schemas/PermissionCombinationSchema'
        group_permissions:
          $ref: '#/components/schemas/PermissionCombinationSchema'
    ProjectSecurityUpdateSchema:
      allOf:
        - $ref: '#/components/schemas/PasswordSecurityUpdateSchema'
        - properties:
            grant_all_permission:
              type: integer
              enum: [-1, 0, 10, 20, 30, 40, 50, 60, 99]
    PasswordCustomFieldUpdateSchema:
      type: object
      properties:
        custom_label1:
          type: string
        custom_type1:
          type: string
          enum: [cf_text, cf_enc_text, cf_email, cf_pwd, cf_notes, cf_enc_notes]
        custom_label2:
          type: string
        custom_type2:
          type: string
          enum: [cf_text, cf_enc_text, cf_email, cf_pwd, cf_notes, cf_enc_notes]
        custom_label3:
          type: string
        custom_type3:
          type: string
          enum: [cf_text, cf_enc_text, cf_email, cf_pwd, cf_notes, cf_enc_notes]
        custom_label4:
          type: string
        custom_type4:
          type: string
          enum: [cf_text, cf_enc_text, cf_email, cf_pwd, cf_notes, cf_enc_notes]
        custom_label5:
          type: string
        custom_type5:
          type: string
          enum: [cf_text, cf_enc_text, cf_email, cf_pwd, cf_notes, cf_enc_notes]
        custom_label6:
          type: string
        custom_type6:
          type: string
          enum: [cf_text, cf_enc_text, cf_email, cf_pwd, cf_notes, cf_enc_notes]
        custom_label7:
          type: string
        custom_type7:
          type: string
          enum: [cf_text, cf_enc_text, cf_email, cf_pwd, cf_notes, cf_enc_notes]
        custom_label8:
          type: string
        custom_type8:
          type: string
          enum: [cf_text, cf_enc_text, cf_email, cf_pwd, cf_notes, cf_enc_notes]
        custom_label9:
          type: string
        custom_type9:
          type: string
          enum: [cf_text, cf_enc_text, cf_email, cf_pwd, cf_notes, cf_enc_notes]
        custom_label10:
          type: string
        custom_type10:
          type: string
          enum: [cf_text, cf_enc_text, cf_email, cf_pwd, cf_notes, cf_enc_notes]
    PermissionCombinationSchema:
      type: array
      items:
        type: array
        minItems: 2
        maxItems: 2
        items:
          type: integer
    CustomFieldSchema:
      type: object
      properties:
        type:
          type: string
          enum: [cf_text, cf_enc_text, cf_email, cf_pwd, cf_notes, cf_enc_notes]
        label:
          type: string
        data:
          type: string
    UserPermissionSchema:
      type: object
      properties:
        user:
          type: object
          properties:
              id:
                type: integer
              username:
                type: string
              email_address:
                type: string
                format: email
              name:
                type: string
              role:
                type: string
        permission:
          type: object
          properties:
            id:
              type: integer
            label:
              type: string
    GroupPermissionSchema:
      type: object
      properties:
        group:
          type: object
          properties:
            id:
              type: integer
            name:
              type: string
        permission:
          type: object
          properties:
            id:
              type: integer
            label:
              type: string
    ProjectListSchema:
      type: array
      items:
        $ref: '#/components/schemas/ProjectListItemSchema'
    ProjectListItemSchema:
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
        tags:
          type: string
        managed_by:
          type: object
          properties:
            id:
              type: integer
            name:
              type: string
        archived:
          type: boolean
        favorite:
          type: boolean
        num_files:
          type: integer
        updated_on:
          type: string
    ProjectCreationSchema:
      type: object
      properties:
        name:
          type: string
        parent_id:
          type: integer
          default: 0
        tags:
          type: string
        notes:
          type: string
      required:
        - name
        - parent_id
    ProjectUpdateSchema:
      type: object
      properties:
        name:
          type: string
        tags:
          type: string
        notes:
          type: string
    ProjectSchema:
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
        parent_id:
          type: integer
        tags:
          type: string
        notes:
          type: string
        managed_by:
          type: object
          properties:
            id:
              type: integer
            username:
              type: string
            email_address:
              type: string
              format: email
            name:
              type: string
            role:
              type: string
        grant_all_permission:
          type: object
          properties:
            id:
              type: integer
            label:
              type: string
        users_permissions:
          type: array
          items:
            $ref: '#/components/schemas/UserPermissionSchema'
        groups_permissions:
          type: array
          items:
            $ref: '#/components/schemas/GroupPermissionSchema'
        num_passwords:
          type: integer
        num_files:
          type: integer
        user_permission:
          type: object
          properties:
            id:
              type: integer
            label:
              type: string
        user_can_create_password:
          type: boolean
        is_leaf:
          type: boolean
        parents:
          type: array
          items:
            type: integer
        archived:
          type: boolean
        favorite:
          type: boolean
        created_on:
          type: string
        created_by:
          $ref: '#/components/schemas/CreatedUpdatedSchema'
        updated_on:
          type: string
        updated_by:
          $ref: '#/components/schemas/CreatedUpdatedSchema'
    SubprojectListSchema:
      type: array
      items:
        $ref: '#/components/schemas/SubprojectListItemSchema'
    SubprojectListItemSchema:
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
        has_children:
          type: boolean
        archived:
          type: boolean
        favorite:
          type: boolean
        disabled:
          type: boolean
        num_pwds:
          type: integer
        num_pwds_branch:
          type: integer
    CreatedUpdatedSchema:
      type: object
      properties:
        id:
          type: integer
        username:
          type: string
        email_address:
          type: string
          format: email
        name:
          type: string
        role:
          type: string
    MyPasswordListSchema:
      type: array
      items:
        $ref: '#/components/schemas/MyPasswordListItemSchema'
    MyPasswordListItemSchema:
      type: object
      properties:
        id:
          type: integer
          format: int64
        name:
          type: string
        notes_snippet:
          type: string
        tags:
          type: string
        access_info:
          type: string
        username:
          type: string
        email:
          type: string
          format: email
        updated_on:
          type: string
    MyPasswordCreationSchema:
      type: object
      properties:
        name:
          type: string
          minLength: 1
        tags:
          type: string
        access_info:
          type: string
        username:
          type: string
        email:
          type: string
          format: email
        password:
          type: string
          format: password
        notes:
          type: string
    MyPasswordSchema:
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
        tags:
          type: string
        access_info:
          type: string
        username:
          type: string
        email:
          type: string
          format: email
        password:
          type: string
          format: password
        notes:
          type: string
        created_on:
          type: string
        created_by:
          $ref: '#/components/schemas/CreatedUpdatedSchema'
        updated_on:
          type: string
        updated_by:
          $ref: '#/components/schemas/CreatedUpdatedSchema'
  securitySchemes:
    basicAuth:
      type: http
      scheme: basic
    publicKey:
      type: apiKey
      in: header
      name: X-Public-Key
    requestHash:
      type: apiKey
      in: header
      name: X-Request-Hash
    requestTimestamp:
      type: apiKey
      in: header
      name: X-Request-Timestamp